webpackJsonp([2],{0:function(e,t,n){var o=n(9),r=n(91);o.render(o.createElement(r,null),document.getElementById("example"))},88:function(e,t,n){var o=n(18),r={addNewComment:function(e){o.dispatch({eventName:"commentAddNewComment",newItem:{item:e}})}};e.exports=r},91:function(e,t,n){var o=n(9),r=n(99),i=n(88),a=o.createClass({displayName:"CommentBox",getInitialState:function(){return r.getAllData()},componentDidMount:function(){r.addChangeListener("commentChange",this._onCommentChange)},componentWillUnmount:function(){r.removeChangeListener("commentChange",this._onCommentChange)},_onCommentChange:function(){this.setState(r.getAllData())},handleCommentSubmit:function(e){i.addNewComment(e)},handleCancelSubmit:function(e){e.preventDefault(),this.state.data.pop(),this.setState({data:this.state.data})},handleReset:function(e){e.preventDefault();var t=this.getInitialState();this.setState(t)},render:function(){return o.createElement("div",{className:"commentBox"},o.createElement("h1",null,"Comments"),o.createElement(s,{data:this.state.data}),o.createElement(l,{onCommentSubmit:this.handleCommentSubmit}),o.createElement("input",{type:"submit",value:"Reset",onClick:this.handleReset}),o.createElement(c,{onCancelSubmit:this.handleCancelSubmit}))}}),s=o.createClass({displayName:"CommentList",removeItem:function(e){r.removeComment(e)},render:function(){var e=this,t=this.props.data.map(function(t){return o.createElement(u,{author:t.author,text:t.text,triggerRemove:e.removeItem})});return o.createElement("div",{className:"commentList"},t)}}),u=o.createClass({displayName:"Comment",handleRemove:function(e){var t=e.target.getAttribute("data-key");this.props.triggerRemove(t)},render:function(){console.log("Comment render....");var e=this.props.author.toString();return o.createElement("div",{className:"comment"},o.createElement("h2",{className:"commentAuthor"},o.createElement("span",{dangerouslySetInnerHTML:{__html:e}})),this.props.text,o.createElement("button",{"data-key":this.props.author,type:"button",onClick:this.handleRemove},"remove"))}}),c=o.createClass({displayName:"CancelForm",render:function(){return o.createElement("form",{className:"commentForm",onSubmit:this.props.onCancelSubmit},o.createElement("input",{type:"submit",value:"remove last comment"}))}}),l=o.createClass({displayName:"CommentForm",handleSubmit:function(e){e.preventDefault();var t=this.refs.author.getDOMNode().value.trim(),n=this.refs.text.getDOMNode().value.trim();this.props.onCommentSubmit({author:t,text:n}),this.refs.author.getDOMNode().value="",this.refs.text.getDOMNode().value=""},render:function(){return o.createElement("form",{className:"commentForm",onSubmit:this.handleSubmit},o.createElement("input",{type:"text",placeholder:"Your name",ref:"author"}),o.createElement("br",null),o.createElement("input",{type:"text",placeholder:"Say something...",ref:"text"}),o.createElement("input",{type:"submit",value:"Post"}))}});e.exports=a},99:function(e,t,n){var o=n(18),r=n(33).EventEmitter,i=n(34),a=i({},r.prototype,{model:[{author:"Pete Hunt",text:"This is one comment"},{author:"Jordan Walke",text:"This is *another* comment"}],getAllData:function(){return{data:this.model}},addNewComment:function(e){this.model=this.model.concat([e]),this.emitChange()},removeComment:function(e){for(var t=this.model.length;t--;)if(this.model[t].author==e){this.model.splice(t,1);break}this.emitChange()},emitChange:function(){this.emit("commentChange")},addChangeListener:function(e,t){this.on(e,t)},removeChangeListener:function(e,t){this.removeListener(e,t)}});o.register(function(e){switch(e.eventName){case"commentAddNewComment":a.addNewComment(e.newItem.item),a.emitChange()}}),e.exports=a}});